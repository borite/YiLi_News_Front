<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>新闻管理中心</title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<script src="js/jquery-3.3.1.min.js"></script>
		
		<script>
			$(function(){
				getNewsList();
			});
			function getNewsList(typeID){
				$.get("https://customer.imotstudio.net/YLNewsInfo/ReadNewsList").done(function(res){
					if(res.Code==200){
						$("#list_body").empty();
						if(res.Data.length>0){
							res.Data.forEach(function(o,i){
								var orderNum=i+1;
								var poster=o.PosterIMG;
								var typeName=o.NewsType;
								var title=o.Title;
								var author=o.Author;
								var pubTime=o.AddTime;
								var state=0;
								var tempItemStr=`<tr>
									  <th scope="row">${orderNum}</th>
									  <td>
										 <img src="${poster}" alt="">
									  </td>
									  <td>${title}</td>
									  <td>${typeName}</td>
									  <td>${author}</td>
									  <td>${pubTime}</td>
									  <td>${state}</td>
									  <td class="op">
										<button class="btn btn-small btn-danger">删除</button>
										<button class="btn btn-small btn-warning">下线</button>
										<button class="btn btn-small btn-primary">编辑</button>
									  </td>
								 </tr>`;
								$("#list_body").append(tempItemStr);
							})
						}else{
							$("#list_body").append('<tr><td colspan="3">还没有相关新闻</td></tr>');
						}
					}else{
						alert(res.Message);
					}
				})
			}
		
		</script>
		
		
		
		<style>
			
			
			
			#wrap,#list{
				width: 1200px;
				margin: 50px auto 0;
			}
			
			#list tbody img{
				display: block;
				width: 80px;
				height: auto;
			}
			
			#list tbody{
				font-size: 14px;
			}
			
			#list tbody td{
				vertical-align: middle;
			}
			
			#list tbody button{
				font-size: 12px;
			}
			
			#list a.btn{
				font-size: 14px;
				border:  1px solid #007bff;
				box-sizing: content-box;
				padding: 4px 10px;
			}
			
			
			.op{
				display: flex;
				justify-content: space-between;
			}
			
		</style>
	</head>

	<body>
		<div id="wrap">
			<header class="d-flex justify-content-between align-items-center">
				<h3>新闻管理中心</h3>
				<a href="add_news.html" class="btn btn-primary text-white">添加新闻</a>
			</header>
		</div>
		<hr/>	
		<div id="list">
			
			<div class="d-flex align-items-center pb-4">
				<a href="#" class="btn btn-primary btn-sm mr-3">全部</a>
				<a href="#" class="btn btn-outline-primary btn-sm mr-3">分类一</a>
				<a href="#" class="btn btn-outline-primary btn-sm">分类二</a>
			</div>
			
			
			<table class="table table-hover">
		      <caption>共有&nbsp;1&nbsp;条新闻</caption>
			  <thead class="thead-light">
				<tr>
				  <th style="width: 40px;">#</th>
				  <th style="width: 10px;">封面图</th>
				  <th style="width: 400px;">新闻标题</th>
				  <th style="width: 110px;">新闻分类</th>
				  <th style="width: 120px;">作者</th>
				  <th style="width: 120px;">发布时间</th>
				  <th style="width: 100px;">状态</th>
				  <th>操作</th>
				</tr>
			  </thead>
			  <tbody id="list_body">

			  </tbody>
			</table>
		
		</div>
		
		
		
	</body>
</html>
